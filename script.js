const drugs = {
    fluids: {
        crystaloids: 
        `<div class="cont">
        <h2>Crystaloids</h2>
        <div class="wrap">
            <div class="box">
                <h3>Types</h3>
                    <p>Balanced electrolyte: e.g. Ringer's lactate, Hartmann's solution.</p>
                    <p>Saline: e.g. 0.9% saline, 0.18% saline in 4% glucose.</p>
                    <p>Glucose: e.g. 5%, 10%, 20%, 50%.</p>
                    <p>Sodium bicarbonate: e.g. 1.26%, 8.4%.</p>
                <h3>Uses</h3>
                    <p>Crystaloid fluids to provide daily requirements of water and electrolytes. They should be given to critically ill patients as a continuous background infusion to supplement fluids given during feeding or to carry drugs.</p>
                    <p>Higher concentration glucose infusions may be used to prevent hypoglycaemia.</p>
                    <p>Crystaloid fluids may contain potassium chloride supplements.</p>
                    <p>Sodium bicarbonate may be used to correct metabolic acidosis, for urinary alkilisation, etc.</p>
                <h3>Routes</h3>
                    <p>IV.</p>
                <h3>Notes</h3>
                    <p>Significant plasma volume deficit should be replaced with colloid solutions since crystalloids are rapidly lost from the plasma, particularly during periods of increased capillary leak, e.g. sepsis.</p>
                    <p>As most plasma substitutes are carried in saline solutions, any additional salt containing crystalloid infusion is only needed to replace excess sodium losses.</p>
                    <p>The sodium content of 0.9% saline is equivalent to that of extracellular fluid. Therefore, salt-containing solutions distribute throughout the extracellular fluid space.</p>
                    <p>Ringer’s lactate or Hartmann’s solution avoid hyperchloraemic acidosis caused by the relative excess chloride infused with 0.9% saline. Hyperchloraemic acidosis may adversely affect coagulation and renal function though human data are lacking.</p>
                    <p>A daily requirement of 70–80mmol sodium is normal although there may be excess loss in sweat and from the gastrointestinal tract. This can be provided as saline or balanced electrolyte solution.</p>
                    <p>5% glucose is used to supply intravenous water requirements. Since there are no electrolytes to favour distribution to one space or another, water distributes uniformly throughout the extracellular and intracellular spaces. The 50g/L glucose content ensures an isotonic solution, but only provides 200Cal/L. Normal requirement is approximately 1.5–2L/d.</p>
                    <p>Water loss in excess of electrolytes is uncommon but occurs in excess sweating, fever, hyperthyroidism, diabetes insipidus, and hypercalcaemia. 5% glucose is an appropriate replacement fluid for water loss.</p>
                    <p>Potassium chloride must be given slowly since rapid injection may cause fatal arrhythmias. No more than 40mmol/h should be given and even this may be dangerous in some patients. Up to20mmol/h is safer. The frequency of infusion is dictated by plasma potassium measurements.</p>
                <h3>See also</h3>
                    <p>Nutrition — use and indications, <em>p126</em>; Electrolytes (Na , K , Cl, HCO3), <em>p212</em>; Sodium bicarbonate,
                    <em>p244</em>; Colloids, <em>p246</em>; Electrolyte management, <em>p482</em>; Hyponatraemia, <em>p486</em>; Hypokalaemia, <em>p490</em>; Metabolic acidosis, <em>p504</em>; Hypoglycaemia, <em>p506</em>.</p>
            </div>
        </div>
        </div>`,
        colloids:
        `<div class="cont">
        <h2 class="headTwo">Colloids</h2>
        <div class="wrap">
            <div class="box">
                <h3>Types</h3>
                    <p>Albumin: e.g. 4.5–5%, 20–25% human albumin solution.</p>
                    <p>Dextran: e.g. 6% Dextran 70.</p>
                    <p>Gelatin: e.g. 3.5% polygeline, 4%succinylated gelatin.</p>
                    <p>Hydroxyethyl starch: e.g. 6% hetastarch, 6% hexastarch, 6 and 10% pentastarch, 6% and 10% tetrastarch.</p>
                <h3>Uses</h3>
                    <p>Replacement of plasma volume deficit.</p>
                    <ul>
                    <li>Short-term volume expansion (gelatin, dextran).</li>
                    <li>Medium-term volume expansion (albumin, pentastarch, tetrastarch).</li>
                    <li>Long-term volume expansion (hetastarch, hexastarch).</li>
                    </ul>
                <h3>Side effects</h3>
                    <p>Dilution coagulopathy.</p>
                    <p>Anaphylaxis.</p>
                    <p>Interference with blood crossmatching (Dextran 70).</p>
                    <p>Nephropathy (high dose hydroxyethyl starches).</p>
                <h3>Routes</h3>
                    <p>IV.</p>
                <h3>Notes</h3>
                    <p>Smaller volumes of colloid are required for resuscitation with less contribution to oedema. Maintenance of plasma colloid osmotic pressure (COP) is a useful effect not seen with crystalloids, but colloids contain no clotting factors or other plasma enzyme systems.</p>
                    <p>Albumin is the main provider of COP in the plasma and has a number of other functions. There is no evidence that maintenance of plasma albumin levels, as opposed to maintenance of plasma COP with artificial plasma substitutes, is advantageous.</p>
                    <p>Hyperoncotic colloids can be used where salt restriction is necessary. This is rarely necessary as plasma volume expansion relates to weight of colloid infused rather than concentration.Artificial colloids used with ultrafiltration or diuresis are just as effective in oedema states.</p>
                    <p>Polygeline is a 3.5% solution and contains calcium (6.25mmol/L). The calcium content prevents the use of the same administration set for blood transfusions. Succinylated gelatin is a 4% solution and does not contain calcium.</p>
                    <p>Hydroxyethyl starch solutions are protected from metabolism due to a high degree of substitution (proportion of glucose units substituted with hydroxyethyl groups—DS) or a high C2:C6 ratio of carbon atoms substituted. Prolonged itching related to intradermal deposition, coagulopathy, and nephropathy are complications if excessive doses of higher molecular weight hydroxyethyl starches are used.</p>
                    <p>Pentastarch and tetrastarch provide only a short-term volume expanding effects.</p>
                    <p>Hydroxyethyl starches in balanced electrolyte solutions are available. These avoid the problem of hyperchloraemic acidosis in higher doses. There is also some evidence of less coagulation disturbance.</p>
            </div>
        </div>
        </div>`,
        blood: 
        `<div class="cont">
        <h2 class="headTwo">Blood products</h2>
        <div class="wrap">
            <div class="box">
                <h3>Types</h3>
                    <p>Plasma: e.g. fresh frozen plasma.</p>    
                    <p>Platelets.</p>   
                    <p>Concentrates of coagulation factors: e.g. cryoprecipitate, factor VIII concentrate, factor IX complex, Octaplex.</p> 
                    <p>Recombinant technologies: e.g.factor VIIa, factor VIII.</p> 
                <h3>Uses</h3>
                <p>Vitamin K deficiency (fresh frozen plasma, factor IX complex, Octaplex).</p>
                <p>Haemophilia (cryoprecipitate, factor VIII, recombinant factor VIIa).</p>
                <p>von Willebrand’s disease (cryoprecipitate).</p>
                <p>Fibrinogen deficiency (cryoprecipitate).</p>
                <p>Christmas disease (factor IX complex).</p>
                <h3>Routes</h3>
                    <p>IV.</p>
                <h3>Notes</h3>
                    <p>A unit (150mL) of fresh frozen plasma is usually collected from one donor and contains all coagulation factors, including 200U factor VIII, 200U factor IX, and 400mg fibrinogen. It is stored at –30*C and should be infused within 2h once defrosted.</p>
                    <p>Platelet concentrates are viable for three days when stored at room temperature. Viability decreases if they are refrigerated. They must be infused quickly via a short giving set with no filter.</p>
                    <p>Indications for platelet concentrates include platelet count <10x109 or <50x109 with spontaneous bleeding or to cover invasive procedures and spontaneous bleeding with platelet dysfunction. They are less useful in conditions associated with immune platelet destruction (e.g. ITP).</p>
                    <p>A 15mL vial of cryoprecipitate contains 100U factor VIII, 250mg fibrinogen, factor XIII, and von Willebrand factor and is stored at –30*C.</p>
                    <p>In haemophilia, cryoprecipitate is given to achieve a factorVIII level >30% of normal.</p>
                    <p>Factor VIII concentrate contains 300U factor VIII per vial. In severe haemorrhage due to haemophilia, 10–15U/kg are given 12-hourly.</p>
                    <p>Recombinant factor VIIa is indicated for control of bleeding in patients with haemophilia with inhibitors to factors VIII or IX, or congenital factor VII deficiency. It forms complexes with exposed tissue factor and is not dependent on the presence of factors VIII or IX. It has been shown to reduce blood transfusion requirements in major blunt trauma. Success has been reported in cases of uncontrollable intra- operative bleeding (90mcg/kg repeated every 2–3h until bleeding stops).</p>
                    <p>Octaplex is a prothrombin complex concentrate for the substitution of factors II, VII, IX, and X in treatment or prophylaxis of hereditary and acquired coagulation factor disorders, e.g. warfarin overdose.</p>
                <h3>Key paper</h3>
                    <p>Boffard KD, for the NovoSeven Trauma Study Group. (2005) Recombinant factor VIIa as adjunctive therapy for bleeding control in severely injured trauma patients: two parallel randomised, placebo- controlled, double-blind clinical trials. J Trauma 59: 8–15.</p>
            </div>
        </div>
        </div>`
    },
    circulation: {
        txa:
        `<div class="cont">
        <h2 class="typoCenter">Tranexamic Acid</h2>
        <div class="wrap">
            <div class="box">
                <p class="typoCenter">A nervous-system disease which is characterised by hyperthermia, muscular rigidity, autonomic dysfunction and altered consciousness. It is associated with the administration of antipsychotic and other central dopaminergic blockers.</strong></p>
                <br>
                <hr>
                <h3>Introduction</h3>
                    <p>Neuroleptic malignant syndrome is a rare but <strong>life-threatening</strong> reaction that can occur in response to neuroleptic or antipsychotic medication.</p>
                    <p>Symptoms include: high fever, confusion, rigid muscles, variable blood pressure, sweating, and a fast heart rate.</p>
                    <p>Complications may include: rhabdomyolysis, high blood potassium, kidney failure, and seizures.</p>
                    <br>
                    <hr>
            <div class="row">
                <div class="col">
                <h3>Symptoms</h3>
                    <ul>
                        <li>High fever</li>
                        <li>Confusion</li>
                        <li>Rigid muscles</li>
                        <li>Variable blood pressure</li>
                        <li>Sweating</li>
                        <li>Fast heart rate</li>
                    </ul>
                </div>
                <div class="col">
                    <h3>Complications</h3>
                    <ul>
                        <li>Rhabdomyolysis</li>
                        <li>High blood potassium</li>
                        <li>Kidney failure</li>
                        <li>Seizures</li>
                    </ul>
                </div>
            </div>
            <hr>
                <h3>Notes</h3>
                    <p>W.i.P.</p>
                <h3>See also</h3>
                    <p>W.i.P.</p>
            </div>
        </div>
        </div>`
    },
}

const news = {
    developmental: {
        adhdMentalHealthToll: 
        `
        <div class="cont">
            <h2 class="typoCenter">Adult ADHD vs Autism: Mental Health Toll</h2>
            <h3 class="typoCenter">ADHD Exacts Higher Mental Health Toll vs Autism in Adults</h3>

            <div class="wrap">
                <div class="box">
                    <p class="typoCenter">A nervous-system disease which is characterised by hyperthermia, muscular rigidity, autonomic dysfunction and altered consciousness. It is associated with the administration of antipsychotic and other central dopaminergic blockers.</strong></p>
                </div>

                <div class="grid">
                    <div class="card">
                        <div class="card_head">
                            <p class="font">ADHD & Poor Mental Wellbeing</p>
                        </div>
                        <div class="card_body">
                            <p class="font">ADHD is more predictive of poor mental health in adults than ASD, new research suggests.</p>
                            <ul>
                                <li class="font_smaller">Trait-based analysis of over 500 adults demonstrated that ADHD traits trumped ASD traits in predicting internalising problems.</li>
                            </ul>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card_head">
                            <p>card head text</p>
                        </div>
                        <div class="card_body">
                            <p>ADHD is more predictive of poor mental health in adults than ASD, new research suggests.</p>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    `
    }
};

const medicalConditions = {
    neurolepticMalignantDisease: 
        `<div class="cont">
        <h2>Neuroleptic Malignant Disease</h2>
        <div class="wrap">
            <div class="box">
                <p class="typoCenter">A nervous-system disease which is characterised by hyperthermia, muscular rigidity, autonomic dysfunction and altered consciousness. It is associated with the administration of antipsychotic and other central dopaminergic blockers.</strong></p>
                <br>
                <hr>
                <h3>Introduction</h3>
                    <p>Neuroleptic malignant syndrome is a rare but <strong>life-threatening</strong> reaction that can occur in response to neuroleptic or antipsychotic medication.</p>
                    <p>Symptoms include: high fever, confusion, rigid muscles, variable blood pressure, sweating, and a fast heart rate.</p>
                    <p>Complications may include: rhabdomyolysis, high blood potassium, kidney failure, and seizures.</p>
                    <br>
                    <hr>
            <div class="row">
                <div class="col">
                <h3>Symptoms</h3>
                    <ul>
                        <li>High fever</li>
                        <li>Confusion</li>
                        <li>Rigid muscles</li>
                        <li>Variable blood pressure</li>
                        <li>Sweating</li>
                        <li>Fast heart rate</li>
                    </ul>
                </div>
                <div class="col">
                    <h3>Complications</h3>
                    <ul>
                        <li>Rhabdomyolysis</li>
                        <li>High blood potassium</li>
                        <li>Kidney failure</li>
                        <li>Seizures</li>
                    </ul>
                </div>
            </div>
            <hr>
                <h3>Notes</h3>
                    <p>W.i.P.</p>
                <h3>See also</h3>
                    <p>W.i.P.</p>
            </div>
        </div>
        </div>`
}

let select = document.getElementById("select");
let root = document.getElementById("root");

function updateDisplay() {
    let selectedFluid = drugs.fluids[select.value];
    let selectedCircDrug = drugs.circulation[select.value];
    let selectedNews = news.developmental[select.value];
    let selectedMedicalCondition = medicalConditions[select.value];
    
    if(!select === selectedFluid || !select === selectedCircDrug || !select === selectedMedicalCondition || !select === selectedNews) {
        root.innerHTML = `
        <div class="card">
          <div class="card_body" style="border-radius: 2px">
            <div class="choices">
                <span class="question" >Please choose a topic from the list above to load the content!</span>
              </div>
            </div>
          </div>
        </div>
      `;
    } else if (selectedFluid) {
        root.innerHTML = selectedFluid;
    } else if (selectedCircDrug) {
        root.innerHTML = selectedCircDrug;
    } else if (selectedNews) {
        root.innerHTML = selectedNews
    } else if (selectedMedicalCondition) {
        root.innerHTML = selectedMedicalCondition
    } else {
        root.innerHTML = '<p>Selected drug information is not available.</p>';
    }
}
select.addEventListener('change', updateDisplay);
updateDisplay();

var questions = [
    {
      question: 'What is the capital of France?',
      choices: ['London', 'Berlin', 'Paris', 'Madrid'],
      correctAnswer: 'Paris',
      explanation: 'Paris is the capital of France.'
    },
    {
      question: 'What is the capital of England?',
      choices: ['Paris', 'London', 'Berlin', 'Madrid'],
      correctAnswer: 'London',
      explanation: 'London is the capital of England.'
    },
    {
      question: 'What is my name?',
      choices: ['Jeremy', 'James', 'Jordan', 'Josh'],
      correctAnswer: 'Jeremy',
      explanation: 'My name is Jeremy!'
    },
    {
      question: 'There is a greater prevalence of mental illness in individuals with ADHD (in comparison with ASD). True or false?',
      choices: ['True', 'False'],
      correctAnswer: 'True',
      explanation: 'ADHD is more predictive of poor mental health in adults.'
    }
    // Add more questions as needed
  ];
  
  var currentQuestionIndex = 0;
  var correctCount = 0;
  var incorrectCount = 0;
  
  function displayQuestion() {
    var question = questions[currentQuestionIndex];
  
    let quizHtml = `
      <div class="card">
        <header class="card_head">
          <div class="header-container">
            <span class="question">${question.question}</span>
          </div> 
        </header>
        <div class="card_body">
          <div class="choices">
            ${question.choices.map((choice, index) => 
              `
              <input type="radio" id="choice${index}" name="question" value="${choice}">
              <label for="choice${index}">${choice}</label><br>
              `
            ).join('')}
            <div>
              <div style="display: flex; flex-direction: row-reverse;">
                <button onclick="checkAnswer()">Next</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    `;
    document.getElementById('quizContainer').innerHTML = quizHtml;
  }
  
  function checkAnswer() {
    var userAnswer = document.querySelector('input[name="question"]:checked').value;
    var question = questions[currentQuestionIndex];
  
    if (userAnswer === question.correctAnswer) {
      correctCount++;
      currentQuestionIndex++;
  
      if (currentQuestionIndex < questions.length) {
        displayQuestion();
      } else {
        displayScore();
      }
    } else {
      incorrectCount++;
      document.getElementById('quizContainer').innerHTML = `
      <div class="card">
        <header class="card_head">
          <div class="header-container">
            <span class="question">Almost...</span>
          </div> 
        </header>
        <div class="card_body">
          <div class="correctAnswer">
            <span class="explanation">The answer is... ${question.correctAnswer}</span>
          </div>
          <div class="explanation">
            <details>
            <summary>Explanation</summary>
              <ul>
                <li>${question.explanation}</li>
                <br>
              </ul>  
            </details>
          </div>
            <div>
              <div style="display: flex; flex-direction: row-reverse;">
                <button onclick="nextQuestion()">Next</button>
              </div>
            </div>
        </div>
      </div>
      `;
    }
  }
  
  function nextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex < questions.length) {
      displayQuestion();
    } else {
      displayScore();
    }
  }
  
  function displayScore() {
    document.getElementById('quizContainer').innerHTML = `
      <p>You've completed the quiz!</p>
      <p>Your score: ${correctCount} correct, ${incorrectCount} incorrect.</p>
      <button onclick="restartQuiz()">Restart Quiz</button>
    `;
  }
  
  function restartQuiz() {
    currentQuestionIndex = 0;
    correctCount = 0;
    incorrectCount = 0;
    displayQuestion();
  }
  
  // Start the quiz
  displayQuestion();

function yes() {
  const el = document.getElementById('contact');
  const questionEl = document.getElementById('question');
  let formHTML = `
  <div class='contact'>
  <p style="font-size: medium; text-decoration: underline;">Please submit your enquiry below:</p>
  <form action="mailto:jbx_6@icloud.com" method="post" enctype="text/plain">
  <input type="text" name="contactFName" id="contactFName" placeholder="name">
  <input type="text" name="contactEmail" id="contactEmail" placeholder="email" required>
  <input type="text" name="subject" id="subject" placeholder="subject" required>
  <textarea name="contactMessage" id="contactMessage" placeholder="message" required></textarea>
  <p style="font-size:medium;">By proceeding, I give consent to my data being processed by this website in order to appropriately manage and delivery my inquiry.</p>
  <div style="display: flex; flex-direction: row; justify-content: flex-start; gap: 20px;;">
      <button type="submit" style="flex-grow: 3;">Submit</button>
      <button type="button" style="flex-grow: 1;" class="hover_backgroud_danger" onclick="no()">Leave</button>
  </div>

  </form>
</div>
  `;
  let emptyEl = ``;
  el.innerHTML = formHTML;
  questionEl.innerHTML = emptyEl;
}

function no() {
  const contactEl = document.getElementById('contact');
  const questionEl = document.getElementById('question');
  let emptyEl = ``;
  let responseEl = `
  <div>
    <p style="font-size: medium;">Should you change your mind, we hope to hear from you another time!</p>
    <div style="display: flex; flex-direction: row; gap: 20px;">
      <a href="/index.html" ><button>Home</button></a>

    </div>
  </div>
  `;
  questionEl.innerHTML = emptyEl;
  contactEl.innerHTML = responseEl;
}

